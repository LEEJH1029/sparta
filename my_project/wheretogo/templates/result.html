<!doctype html>
<html class="no-js" lang="kr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>서울(Seoul)</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- <link rel="manifest" href="site.webmanifest"> -->
    <link rel="shortcut icon" type="image/x-icon" href="../static/img/favicon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="../static/css/magnific-popup.css">
    <link rel="stylesheet" href="../static/css/font-awesome.min.css">
    <link rel="stylesheet" href="../static/css/themify-icons.css">
    <link rel="stylesheet" href="../static/css/nice-select.css">
    <link rel="stylesheet" href="../static/css/flaticon.css">
    <link rel="stylesheet" href="../static/css/gijgo.css">
    <link rel="stylesheet" href="../static/css/animate.css">
    <link rel="stylesheet" href="../static/css/slick.css">
    <link rel="stylesheet" href="../static/css/slicknav.css">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css">

    <link rel="stylesheet" href="../static/css/style.css">
    <!-- <link rel="stylesheet" href="css/responsive.css"> -->

    <style>
        .weather {
            margin-left: auto;
        }

        .icon {
            height: 50px;
            width: 50px;
        }
    </style>

    <script>
        $(document).ready(function () {
            showWeather_Seoul()
            console.log('{{ selected_date }}')
            // if ('{{ selected_place }}' == 1) {
            //     showWeather_Seoul();
            //     return
            // }
            // if ('{{ selected_place }}' == 2) {
            //     showWeather_Busan();
            //     return
            }
        });

        function showWeather_Seoul() {
            $.ajax({
                type: "GET",
                url: "https://api.openweathermap.org/data/2.5/onecall?lat=37.557563&lon=126.976438&exclude=current,%20minutely,%20hourly&appid=6dae93805c76729c7ead695443c6856d",
                data: {},
                success: function (response) {
                    let date = parseInt(response['daily'][7]['dt'])
                    let temp = (response['daily'][7]['temp']['day'] - 273.15).toFixed(1)
                    let weathericon = response['daily'][7]['weather'][0]['icon']
                    let milliseconds = parseInt(date + '000')
                    let time = new Date(milliseconds);
                    let month = time.getMonth() + 1
                    let day = time.getDate()
                    let newData = `<div class="weather">
                                            ${month}월 ${day}일 서울 날씨: ${temp}℃
                                            <img class="icon" src="http://openweathermap.org/img/wn/${weathericon}@2x.png"
                                        </div>`

                    $('#DayWeather').append(newData);

                    if (response['daily'][7]['weather'][0]['main'] == "Rain") {
                        showInsidePlaces_Seoul()
                        return
                    } else {
                        showPlaces_Seoul()
                        return
                    }
                }


            })
        }

        function showInsidePlaces_Seoul() {
            $.ajax({
                type: 'GET',
                url: '/places/Seoul',
                data: {},
                success: function (response) {
                    if (response['result'] == 'success') {
                        let places = response['places']
                        for (let i = 0; i < places.length; i++) {
                            if (places[i]['inside'] == 1) {
                                let title = places[i]['title']
                                let address = places[i]['addr1']

                                console.log(places[0]['areaCode'])

                                let tempHtml = `<div class="col-lg-4 col-md-6">
                                                    <div class="single_place">
                                                        <div class="thumb">
                                                            <img src="../static/img/place/1.png" alt="">
                                                        </div>
                                                        <div class="place_info">
                                                            <h3>${title}</h3>
                                                            <p>${address}</p>
                                                            <br>
                                                            <div>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://map.naver.com/v5/search/${address}')">
                                                                    지도에 검색
                                                                </button>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://search.naver.com/search.naver?sm=top_hty&fbm=0&ie=utf8&query=${title}')">
                                                                    네이버에 검색
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                             </div>`
                                $('#post-places').append(tempHtml)
                            }
                        }
                    }
                }
            })
        }

        function showPlaces_Seoul() {
            $.ajax({
                type: 'GET',
                url: '/places/Seoul',
                data: {},
                success: function (response) {
                    if (response['result'] == 'success') {
                        let places = response['places']
                        for (let i = 0; i < places.length; i++) {
                            let title = places[i]['title']
                            let address = places[i]['addr1']

                            console.log(places[0]['areaCode'])

                            let tempHtml = `<div class="col-lg-4 col-md-6">
                                                    <div class="single_place">
                                                        <div class="thumb">
                                                            <img src="../static/img/place/1.png" alt="">
                                                        </div>
                                                        <div class="place_info">
                                                            <h3>${title}</h3>
                                                            <p>${address}</p>
                                                            <br>
                                                            <div>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://map.naver.com/v5/search/${address}')">
                                                                    지도에 검색
                                                                </button>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://search.naver.com/search.naver?sm=top_hty&fbm=0&ie=utf8&query=${title}')">
                                                                    네이버에 검색
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                             </div>`
                            $('#post-places').append(tempHtml)
                        }
                    }
                }
            })
        }

        function showWeather_Busan() {
            $.ajax({
                type: "GET",
                url: "https://api.openweathermap.org/data/2.5/onecall?lat=35.154039&lon=129.040598&exclude=current, minutely, hourly&appid=6dae93805c76729c7ead695443c6856d",
                data: {},
                success: function (response) {
                    let date = parseInt(response['daily'][7]['dt'])
                    let temp = (response['daily'][7]['temp']['day'] - 273.15).toFixed(1)
                    let weathericon = response['daily'][7]['weather'][0]['icon']
                    let milliseconds = parseInt(date + '000')
                    let time = new Date(milliseconds);
                    let month = time.getMonth() + 1
                    let day = time.getDate()
                    let newData = `<div class="weather">
                                            ${month}월 ${day}일 부산 날씨: ${temp}℃
                                            <img class="icon" src="http://openweathermap.org/img/wn/${weathericon}@2x.png"
                                        </div>`

                    $('#DayWeather').append(newData);

                    if (response['daily'][7]['weather'][0]['main'] == "Rain") {
                        showInsidePlaces_Busan()
                        return
                    } else {
                        showPlaces_Busan()
                        return
                    }
                }


            })
        }

        function showInsidePlaces_Busan() {
            $.ajax({
                type: 'GET',
                url: '/places/Busan',
                data: {},
                success: function (response) {
                    if (response['result'] == 'success') {
                        let places = response['places']
                        for (let i = 0; i < places.length; i++) {
                            if (places[i]['inside'] == 1) {
                                let title = places[i]['title']
                                let address = places[i]['addr1']

                                console.log(places[0]['areaCode'])

                                let tempHtml = `<div class="col-lg-4 col-md-6">
                                                    <div class="single_place">
                                                        <div class="thumb">
                                                            <img src="../static/img/place/1.png" alt="">
                                                        </div>
                                                        <div class="place_info">
                                                            <h3>${title}</h3>
                                                            <p>${address}</p>
                                                            <br>
                                                            <div>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://map.naver.com/v5/search/${address}')">
                                                                    지도에 검색
                                                                </button>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://search.naver.com/search.naver?sm=top_hty&fbm=0&ie=utf8&query=${title}')">
                                                                    네이버에 검색
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                             </div>`
                                $('#post-places').append(tempHtml)
                            }
                        }
                    }
                }
            })
        }

        function showPlaces_Busan() {
            $.ajax({
                type: 'GET',
                url: '/places/Busan',
                data: {},
                success: function (response) {
                    if (response['result'] == 'success') {
                        let places = response['places']
                        for (let i = 0; i < places.length; i++) {
                            let title = places[i]['title']
                            let address = places[i]['addr1']

                            console.log(places[0]['areaCode'])

                            let tempHtml = `<div class="col-lg-4 col-md-6">
                                                    <div class="single_place">
                                                        <div class="thumb">
                                                            <img src="../static/img/place/1.png" alt="">
                                                        </div>
                                                        <div class="place_info">
                                                            <h3>${title}</h3>
                                                            <p>${address}</p>
                                                            <br>
                                                            <div>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://map.naver.com/v5/search/${address}')">
                                                                    지도에 검색
                                                                </button>
                                                                <button class="btn btn-success"
                                                                        onclick="window.open('https://search.naver.com/search.naver?sm=top_hty&fbm=0&ie=utf8&query=${title}')">
                                                                    네이버에 검색
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                             </div>`
                            $('#post-places').append(tempHtml)
                        }
                    }
                }
            })
        }


    </script>
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<!-- header-start -->
<header>
    <div class="header-area ">
        <div id="sticky-header" class="main-header-area">
            <div class="container-fluid">
                <div class="header_bottom_border">
                    <div class="row align-items-center">
                        <div class="logo">
                            <a href="index.html">
                                <img src="../static/img/logo.png" alt="">
                            </a>
                        </div>
                        <div id="DayWeather" class="weather">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</header>
<!-- header-end -->
<div class="destination_banner_wrap overlay">
    <div class="destination_text text-center">
        <h3>Seoul</h3>
    </div>
</div>
<!--<div>-->
<!--    <img src="../static/img/title_Seoul.jpg" height="640" width="1280"/>-->
<!--</div>-->

<div class="popular_places_area">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <div class="section_title text-center mb_70">
                    <h3>서울(Seoul)</h3>
                </div>
            </div>
        </div>
        <div id="post-box" class="form-post" style="display:none">
            <div>
                <div class="form-group">
                    <label for="post-url">아티클 URL</label>
                    <input id="post-url" class="form-control" placeholder="">
                </div>
                <div class="form-group">
                    <label for="post-comment">간단 코멘트</label>
                    <textarea class="form-control" rows="2"></textarea>
                </div>
                <button type="button" class="btn btn-primary">기사저장</button>
            </div>
        </div>
        <div class="row" id="post-places">
        </div>
    </div>
</div>

<footer class="footer">
    <div class="footer_top">
        <div class="container">
            <div class="row">
                <div class="footer_widget">
                    <p>서울특별시 강남구 논현로 425 (마이다스빌딩) 5층 501호<br>
                        <a href="#">010-8619-8438</a> <br>
                        <a href="#">where2go@naver.com</a>
                    </p>
                    <div class="socail_links">
                        <ul>
                            <li>
                                <a href="#">
                                    <i class="ti-facebook"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <i class="fa fa-instagram"></i>
                                </a>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="copy-right_text">
        <div class="container">
            <div class="footer_border"></div>
            <div class="row">
                <div class="col-xl-12">
                    <p class="copy_right text-center">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;<script>document.write(new Date().getFullYear());</script>
                        All rights reserved | This template is made with <i class="fa fa-heart-o"
                                                                            aria-hidden="true"></i> by <a
                            href="https://colorlib.com" target="_blank">Colorlib</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>


<!-- Modal -->
<!--<div class="modal fade custom_search_pop" id="exampleModalCenter" tabindex="-1" role="dialog"-->
<!--     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">-->
<!--    <div class="modal-dialog modal-dialog-centered" role="document">-->
<!--        <div class="modal-content">-->
<!--            <div class="serch_form">-->
<!--                <input type="text" placeholder="Search">-->
<!--                <button type="submit">search</button>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!-- link that opens popup -->
<!--
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-de7e2ef6bfefd24b79a3f68b414b87b8db5b08439cac3f1012092b2290c719cd.js"></script>

    <script src=" https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"> </script> -->
<!-- JS here -->
<script src="../static/js/vendor/modernizr-3.5.0.min.js"></script>
<script src="../static/js/vendor/jquery-1.12.4.min.js"></script>
<script src="../static/js/popper.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>
<script src="../static/js/owl.carousel.min.js"></script>
<script src="../static/js/isotope.pkgd.min.js"></script>
<script src="../static/js/ajax-form.js"></script>
<script src="../static/js/waypoints.min.js"></script>
<script src="../static/js/jquery.counterup.min.js"></script>
<script src="../static/js/imagesloaded.pkgd.min.js"></script>
<script src="../static/js/scrollIt.js"></script>
<script src="../static/js/jquery.scrollUp.min.js"></script>
<script src="../static/js/wow.min.js"></script>
<script src="../static/js/nice-select.min.js"></script>
<script src="../static/js/jquery.slicknav.min.js"></script>
<script src="../static/js/jquery.magnific-popup.min.js"></script>
<script src="../static/js/plugins.js"></script>
<script src="../static/js/gijgo.min.js"></script>
<script src="../static/js/slick.min.js"></script>


<!--contact js-->
<script src="../static/js/contact.js"></script>
<script src="../static/js/jquery.ajaxchimp.min.js"></script>
<script src="../static/js/jquery.form.js"></script>
<script src="../static/js/jquery.validate.min.js"></script>
<script src="../static/js/mail-script.js"></script>


<script src="../static/js/main.js"></script>
<script>
    $('#datepicker').datepicker({
        iconsLibrary: 'fontawesome',
        icons: {
            rightIcon: '<span class="fa fa-caret-down"></span>'
        }
    });
</script>
</body>

</html>